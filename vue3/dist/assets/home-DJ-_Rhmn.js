import{_ as S,o as u,c as p,a as e,u as i,F as A,r as $,b as g,d as P,e as r,w,v as B,f as y,g as T,h as a,T as C,i as D}from"./index-BWDqJDQ-.js";import{u as V,a as k,b as I,_ as v,c as E,d as x,s as K,h as L}from"./footbar-BJ10_eRb.js";const j={__name:"mainPart",setup(b){const{chatContainer:n,handleScroll:o}=V(),l=k(),c=I(),f=d=>{c.messageList.splice(d,1)};return(d,t)=>(u(),p("div",{class:"chat-container",ref_key:"chatContainer",ref:n,onScroll:t[0]||(t[0]=(...s)=>i(o)&&i(o)(...s))},[e(v,{content:i(l).prologue},null,8,["content"]),(u(!0),p(A,null,$(i(c).messageList,(s,_)=>(u(),p("div",{key:_},[e(E,{content:s.user},null,8,["content"]),e(v,{content:s.assistant,index:_,onDeleteMessage:f},null,8,["content","index"])]))),128))],544))}},F=S(j,[["__scopeId","data-v-b5a63305"]]),H={class:"input-container"},N=["disabled"],O={__name:"inputbar",setup(b){const n=g(null),o=()=>{const t=n.value;t.style.height="40px",t.style.height=`${t.scrollHeight}px`};P(()=>{o()});const l=I(),c=t=>{if(f()||t.shiftKey)return;t.preventDefault(),l.sendMessage(!0);const s=n.value;s.style.height="40px"},f=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),d=()=>{l.sendMessage();const t=n.value;t.style.height="40px"};return(t,s)=>{const _=r("Promotion"),m=r("el-icon"),h=r("Paperclip");return u(),p("div",H,[w(y("textarea",{placeholder:"请输入问题",class:"inputstyle",onInput:o,ref_key:"textarea",ref:n,"onUpdate:modelValue":s[0]||(s[0]=M=>i(l).user=M),onKeydown:T(c,["enter"])},null,544),[[B,i(l).user]]),y("button",{class:"send-button",onClick:d,disabled:i(l).loading},[e(m,null,{default:a(()=>[e(_)]),_:1})],8,N),e(m,{class:"Paperclip"},{default:a(()=>[e(h)]),_:1})])}}},R=S(O,[["__scopeId","data-v-815ae2dd"]]),U={class:"common-layout"},G={__name:"home",setup(b){const n=k(),o=g(!1),l=g(null);function c(){o.value=!o.value}return P(async()=>{n.setAImodel("gpt-4o"),n.setAIphoto("http://www.mychat.ink/api/img/chat.jpg"),n.setUrl("/chat/"),n.setprologue("你好，请随时向我提问")}),(f,d)=>{const t=r("el-aside"),s=r("el-header"),_=r("el-main"),m=r("el-footer"),h=r("el-container");return u(),p("div",U,[e(h,null,{default:a(()=>[e(t,{class:"menu"},{default:a(()=>[e(x)]),_:1}),e(C,{name:"slide-fade"},{default:a(()=>[w(e(t,{class:"sidebar",ref_key:"sidebarRef",ref:l},{default:a(()=>[e(K,{onToggleSidebar:c})]),_:1},512),[[D,o.value]])]),_:1}),e(h,null,{default:a(()=>[e(s,{class:"headbar"},{default:a(()=>[e(L,{onToggleSidebar:c})]),_:1}),e(_,{class:"mainPart"},{default:a(()=>[e(F)]),_:1}),e(R),e(m,{class:"footbar"},{default:a(()=>[e(x)]),_:1})]),_:1})]),_:1})])}}};export{G as default};
