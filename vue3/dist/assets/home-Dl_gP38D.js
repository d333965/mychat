import{u as A,a as S,b as P,_ as w,c as V,d as y,s as $,h as B}from"./footbar-BcAQvDMG.js";import{_ as b,o as _,c as p,a as e,u as d,F as C,r as z,b as I,d as M,e as r,w as D,v as E,f as x,g as L,h as l,i as T}from"./index-CLGD-T07.js";const K={__name:"mainPart",setup(v){const{chatContainer:n,handleScroll:s}=A(),a=S(),c=P(),m=i=>{c.messageList.splice(i,1)};return(i,t)=>(_(),p("div",{class:"chat-container",ref_key:"chatContainer",ref:n,onScroll:t[0]||(t[0]=(...o)=>d(s)&&d(s)(...o))},[e(w,{content:d(a).prologue},null,8,["content"]),(_(!0),p(C,null,z(d(c).messageList,(o,u)=>(_(),p("div",{key:u},[e(V,{content:o.user},null,8,["content"]),e(w,{content:o.assistant,index:u,onDeleteMessage:m},null,8,["content","index"])]))),128))],544))}},U=b(K,[["__scopeId","data-v-b5a63305"]]),j={class:"input-container"},F=["disabled"],H={__name:"inputbar",setup(v){const n=I(null),s=()=>{const t=n.value;t.style.height="40px",t.style.height=`${t.scrollHeight}px`};M(()=>{s()});const a=P(),c=t=>{if(m()||t.shiftKey)return;t.preventDefault(),a.sendMessage(!0);const o=n.value;o.style.height="40px"},m=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),i=()=>{a.sendMessage();const t=n.value;t.style.height="40px"};return(t,o)=>{const u=r("Promotion"),f=r("el-icon"),g=r("Paperclip");return _(),p("div",j,[D(x("textarea",{placeholder:"请输入问题",class:"inputstyle",onInput:s,ref_key:"textarea",ref:n,"onUpdate:modelValue":o[0]||(o[0]=h=>d(a).user=h),onKeydown:L(c,["enter"])},null,544),[[E,d(a).user]]),x("button",{class:"send-button",onClick:i,disabled:d(a).loading},[e(f,null,{default:l(()=>[e(u)]),_:1})],8,F),e(f,{class:"Paperclip"},{default:l(()=>[e(g)]),_:1})])}}},N=b(H,[["__scopeId","data-v-815ae2dd"]]),O={class:"common-layout"},W={__name:"home",setup(v){const n=S(),s=I(!1),a=T(()=>window.innerWidth<=768?"70%":"300px");function c(){s.value=!s.value}return M(async()=>{n.setAImodel("gpt-4o"),n.setAIphoto("http://www.mychat.ink/api/img/chat.jpg"),n.setUrl("/chat/"),n.setprologue("你好，请随时向我提问")}),window.addEventListener("resize",()=>{a.value=a.value}),(m,i)=>{const t=r("el-aside"),o=r("el-drawer"),u=r("el-header"),f=r("el-main"),g=r("el-footer"),h=r("el-container");return _(),p("div",O,[e(h,null,{default:l(()=>[e(t,{class:"menu"},{default:l(()=>[e(y)]),_:1}),e(o,{modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=k=>s.value=k),direction:"ltr","with-header":!1,class:"sidebar-drawer",size:a.value},{default:l(()=>[e($,{onToggleSidebar:c})]),_:1},8,["modelValue","size"]),e(h,null,{default:l(()=>[e(u,{class:"headbar"},{default:l(()=>[e(B,{onToggleSidebar:c})]),_:1}),e(f,{class:"mainPart"},{default:l(()=>[e(U)]),_:1}),e(N),e(g,{class:"footbar"},{default:l(()=>[e(y)]),_:1})]),_:1})]),_:1})])}}},J=b(W,[["__scopeId","data-v-34b2f8dd"]]);export{J as default};
